(this["webpackJsonpomahq-fe"]=this["webpackJsonpomahq-fe"]||[]).push([[10],{283:function(e,t,n){"use strict";n.r(t);var c=n(18),r=n.n(c),a=n(29),o=n(3),i=n(10),s=n(1),u=n(58),l=n(42),b=n(13),d=n(2),j=Object(s.forwardRef)((function(e,t){var n=e.requiredFail,c=Object(b.a)(e,["requiredFail"]),r=n?"border-red-300":"";return Object(d.jsx)("textarea",Object(o.a)(Object(o.a)({ref:t},c),{},{className:"resize-none px-2 py-1 rounded border-2 bg-transparent focus:outline-none border-gray-300 text-gray-900 dark:text-gray-50 focus:border-blue-300 w-full ".concat(r)}))})),f=n(30),m=n(19),O=n(43),h=n(44),p={name:null,description:null,image:null,quantity:0};t.default=function(e){var t=e.shown,n=e.barcode,c=(e.onSubmit,e.onClose),b=e.houseId,g=Object(s.useRef)(),x=Object(s.useRef)(),v=Object(s.useContext)(f.b).showAlert,I=Object(s.useContext)(m.b),w=I.loadingProcess,y=I.loadingDone,N=Object(s.useState)(Object(o.a)({},p)),C=Object(i.a)(N,2),q=C[0],k=C[1],S=Object(s.useState)({name:!0,description:!0,image:!0}),D=Object(i.a)(S,2),E=D[0],R=D[1],F="LOADING_NEW_ITEM",_=function(e,t){e.target.validity.valid?k((function(n){return n[t]=e.target.value,n})):R((function(e){return e[t]=!1,e}))},A=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(F),e.next=3,O.a.post("/item",Object(o.a)(Object(o.a)({},q),{},{house_id:b,barcode:n})).then((function(e){var t=e.data;v({message:"Item ".concat(t.name," successfully saved"),title:"Success",type:"success"}),c(t)})).catch((function(e){var t=e.response;Object(h.a)(t,v)}));case 3:y(F);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e;null===(e=x.current)||void 0===e||e.focus()}),[t]),Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{nodeRef:g,in:t,classNames:"modal",timeout:300,unmountOnExit:!0,children:Object(d.jsxs)(l.f,{title:"New Item",ref:g,closing:c,children:[Object(d.jsx)(l.d,{label:"Item Name",children:Object(d.jsx)(l.c,{ref:x,onChange:function(e){return _(e,"name")},placeholder:"Item Name"})}),Object(d.jsx)(l.d,{label:"Item Description",children:Object(d.jsx)(j,{onChange:function(e){return _(e,"description")},placeholder:"Item Description"})}),Object(d.jsx)(l.d,{label:"Item Image",children:Object(d.jsx)(l.c,{onChange:function(e){return _(e,"image")},placeholder:"Item Image",pattern:"https?://.+",requiredFail:!E.image})}),Object(d.jsx)(l.d,{children:Object(d.jsx)("button",{onClick:A,className:"rounded text-white font-medium px-2 py-1 focus:outline-none hover:bg-green-500 bg-green-400 active:bg-green-600 transition duration-300 ease-in-out",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=10.bee9721d.chunk.js.map